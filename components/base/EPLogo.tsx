import React, { useMemo } from 'react'
import styles from './EPLogo.module.css'

interface EPLogoProps {
  size?: 'sm' | 'md' | 'lg' | 'xl'
  variant?: 'full' | 'symbol' | 'text'
  theme?: 'default' | 'dark' | 'light' | 'monochrome'
}

export default function EPLogo({
  size = 'md',
  variant = 'full',
  theme = 'default',
}: EPLogoProps) {
  const sizes = {
    sm: { width: 150, height: 104 },
    md: { width: 250, height: 173 },
    lg: { width: 350, height: 243 },
    xl: { width: 500, height: 347 },
  }

  const { width, height } = sizes[size]

  const showSymbol = variant === 'full' || variant === 'symbol'
  const showText = variant === 'full' || variant === 'text'

  const colors = useMemo(() => {
    const getColor = (defaultColor: string, lightColor: string = '#FFFFFF', monoColor: string = '#000000') => {
      if (theme === 'monochrome') return monoColor
      if (theme === 'light') return lightColor
      return defaultColor
    }

    return {
      primaryGreen: getColor('#00CE84'),
      lightGreen: getColor('#00EA96'),
      symbol: getColor('#02BF76'),
      text: theme === 'dark' || theme === 'light' ? '#FFFFFF' : theme === 'monochrome' ? '#000000' : '#3A3A3A',
      prime: getColor('#00CE83'),
    }
  }, [theme])

  const logoClasses = [
    styles.epLogo,
    styles[`epLogo--${size}`],
    styles[`epLogo--${theme}`],
  ]
    .filter(Boolean)
    .join(' ')

  return (
    <div className={logoClasses}>
      <svg
        width={width}
        height={height}
        viewBox="0 0 1300 900"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        aria-label="EarnPrime Logo"
      >
        {/* Logo Symbol (Chevron) */}
        {showSymbol && (
          <g>
            <polygon
              fill={colors.symbol}
              points="469.65 419.77 497.54 447.67 489.37 455.84 469.49 435.96 469.65 419.77"
            />
            <polygon
              fill={colors.lightGreen}
              points="469.65 419.77 441.75 447.67 449.93 455.84 469.81 435.96 469.65 419.77"
            />
            <rect
              fill={colors.primaryGreen}
              x="441.43"
              y="464.54"
              width="56.43"
              height="6.29"
            />
          </g>
        )}

        {/* Wordmark */}
        {showText && (
          <g>
            {/* "earn" text */}
            <path
              fill={colors.text}
              d="m527.15,453.75c.6,2.85,1.98,5.04,4.13,6.57,2.15,1.53,4.78,2.29,7.88,2.29,4.3,0,7.53-1.55,9.68-4.65l6.68,3.9c-3.7,5.45-9.18,8.18-16.43,8.18-6.1,0-11.03-1.86-14.78-5.59-3.75-3.73-5.63-8.44-5.63-14.14s1.85-10.29,5.55-14.07c3.7-3.78,8.45-5.66,14.26-5.66,5.5,0,10.02,1.93,13.54,5.78,3.53,3.85,5.29,8.53,5.29,14.03,0,.85-.1,1.98-.3,3.38h-29.86Zm-.08-6.6h22.06c-.55-3.05-1.81-5.35-3.79-6.9-1.98-1.55-4.29-2.33-6.94-2.33-3,0-5.5.83-7.5,2.48-2,1.65-3.28,3.9-3.83,6.75Z"
            />
            <path
              fill={colors.text}
              d="m592.65,431.54h8.1v37.52h-8.1v-5.4c-3.05,4.25-7.43,6.38-13.13,6.38-5.15,0-9.56-1.91-13.21-5.74-3.65-3.83-5.48-8.49-5.48-13.99s1.83-10.23,5.48-14.03c3.65-3.8,8.05-5.7,13.21-5.7,5.7,0,10.08,2.1,13.13,6.3v-5.33Zm-20.33,27.35c2.25,2.28,5.08,3.41,8.48,3.41s6.23-1.14,8.48-3.41c2.25-2.28,3.38-5.14,3.38-8.59s-1.13-6.31-3.38-8.59c-2.25-2.28-5.08-3.41-8.48-3.41s-6.23,1.14-8.48,3.41c-2.25,2.28-3.38,5.14-3.38,8.59s1.13,6.32,3.38,8.59Z"
            />
            <path
              fill={colors.text}
              d="m617.04,437.84c2.05-4.65,5.9-6.98,11.55-6.98v8.78c-3.1-.2-5.8.54-8.1,2.21-2.3,1.68-3.45,4.44-3.45,8.29v18.91h-8.1v-37.52h8.1v6.3Z"
            />
            <path
              fill={colors.text}
              d="m653.05,430.57c4.3,0,7.78,1.38,10.43,4.13,2.65,2.75,3.98,6.53,3.98,11.33v23.04h-8.1v-22.21c0-2.8-.75-4.95-2.25-6.45-1.5-1.5-3.55-2.25-6.15-2.25-2.85,0-5.15.89-6.9,2.66-1.75,1.78-2.63,4.49-2.63,8.14v20.11h-8.1v-37.52h8.1v4.8c2.45-3.85,6.33-5.78,11.63-5.78Z"
            />

            {/* "prime" text */}
            <path
              fill={colors.prime}
              d="m695.82,430.57c5.25,0,9.73,1.91,13.43,5.74,3.7,3.83,5.55,8.49,5.55,13.99s-1.85,10.17-5.55,13.99c-3.7,3.83-8.18,5.74-13.43,5.74-6.2,0-10.93-2.48-14.18-7.43v21.46h-6.53v-52.52h6.53v6.45c3.25-4.95,7.98-7.43,14.18-7.43Zm-.82,33.16c3.75,0,6.9-1.29,9.45-3.86,2.55-2.58,3.83-5.76,3.83-9.57s-1.28-6.99-3.83-9.57c-2.55-2.58-5.7-3.86-9.45-3.86s-6.98,1.29-9.53,3.86c-2.55,2.58-3.83,5.77-3.83,9.57s1.28,6.99,3.83,9.57c2.55,2.58,5.73,3.86,9.53,3.86Z"
            />
            <path
              fill={colors.prime}
              d="m727.86,437.84c2.15-4.65,6.05-6.98,11.71-6.98v6.83c-3.2-.15-5.95.7-8.25,2.55-2.3,1.85-3.45,4.83-3.45,8.93v19.88h-6.53v-37.52h6.53v6.3Z"
            />
            <path
              fill={colors.prime}
              d="m747.97,424.71c-1.25,0-2.3-.42-3.15-1.28-.85-.85-1.28-1.88-1.28-3.08s.42-2.24,1.28-3.11c.85-.87,1.9-1.31,3.15-1.31s2.23.44,3.08,1.31c.85.88,1.28,1.91,1.28,3.11s-.43,2.23-1.28,3.08c-.85.85-1.88,1.28-3.08,1.28Zm-3.3,44.34v-37.52h6.53v37.52h-6.53Z"
            />
            <path
              fill={colors.prime}
              d="m800.42,430.57c4.2,0,7.6,1.36,10.2,4.09,2.6,2.73,3.9,6.42,3.9,11.07v23.34h-6.53v-23.11c0-2.9-.75-5.15-2.25-6.75-1.5-1.6-3.5-2.4-6-2.4-2.8,0-5.04.94-6.72,2.81-1.68,1.88-2.51,4.74-2.51,8.59v20.86h-6.53v-23.11c0-2.9-.71-5.15-2.14-6.75-1.43-1.6-3.36-2.4-5.82-2.4-2.75,0-5.04.95-6.87,2.85-1.83,1.9-2.74,4.75-2.74,8.55v20.86h-6.53v-37.52h6.53v5.03c2.55-4,6.28-6,11.18-6s8.73,2.13,11.03,6.38c2.6-4.25,6.53-6.38,11.78-6.38Z"
            />
            <path
              fill={colors.prime}
              d="m826.9,453.3c.65,3.35,2.19,5.95,4.61,7.8,2.43,1.85,5.41,2.78,8.97,2.78,4.95,0,8.55-1.83,10.81-5.48l5.55,3.15c-3.65,5.65-9.15,8.48-16.51,8.48-5.95,0-10.79-1.86-14.52-5.59-3.73-3.73-5.59-8.44-5.59-14.14s1.82-10.35,5.48-14.11c3.65-3.75,8.38-5.63,14.18-5.63,5.5,0,9.99,1.94,13.47,5.82,3.48,3.88,5.21,8.54,5.21,13.99,0,.95-.08,1.93-.22,2.93h-31.44Zm12.98-16.58c-3.5,0-6.4.99-8.7,2.96-2.3,1.98-3.73,4.61-4.28,7.92h25.06c-.55-3.55-1.95-6.25-4.2-8.10-2.25-1.85-4.88-2.78-7.88-2.78Z"
            />
          </g>
        )}
      </svg>
    </div>
  )
}
